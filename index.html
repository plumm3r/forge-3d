<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forge3D | Command Center</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-50 text-slate-900">
  <!-- Top Nav -->
  <nav class="bg-white/80 backdrop-blur border-b border-slate-200 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 grid place-items-center text-white font-black">
          F3D
        </div>
        <div>
          <div class="text-lg font-extrabold tracking-tight leading-none">Forge3D</div>
          <div class="text-xs text-slate-500 -mt-0.5">Command Center</div>
        </div>
      </div>

      <div class="hidden md:flex items-center gap-2">
        <a href="index.html" class="px-3 py-2 rounded-lg text-sm font-semibold bg-slate-900 text-white">Dashboard</a>
        <a href="shop.html" class="px-3 py-2 rounded-lg text-sm font-semibold hover:bg-slate-100">Models</a>
        <a href="#jobs" class="px-3 py-2 rounded-lg text-sm font-semibold hover:bg-slate-100">Jobs</a>
        <a href="#files" class="px-3 py-2 rounded-lg text-sm font-semibold hover:bg-slate-100">Files</a>
      </div>

      <div class="flex items-center gap-2">
        <a href="shop.html" class="hidden sm:inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-sm font-semibold">
          Browse Models
        </a>
        <button id="themeBtn" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-sm font-semibold">
          Quick Tools
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero / Header -->
  <header class="relative overflow-hidden">
    <div class="absolute inset-0">
      <div class="absolute inset-0 bg-gradient-to-br from-blue-700 via-indigo-700 to-slate-900 opacity-95"></div>
      <div class="absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_20%_20%,white,transparent_35%),radial-gradient(circle_at_80%_30%,white,transparent_30%),radial-gradient(circle_at_50%_90%,white,transparent_35%)]"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 py-14">
      <div class="grid lg:grid-cols-12 gap-10 items-center">
        <div class="lg:col-span-7">
          <p class="inline-flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-white/80">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            Workshop Online
          </p>

          <h1 class="mt-3 text-4xl md:text-5xl font-black tracking-tight text-white leading-tight">
            Build, track, and ship custom 3D prints — from one dashboard.
          </h1>
          <p class="mt-4 text-white/80 text-lg max-w-2xl">
            Upload STL ideas, manage jobs, price orders, and keep your workflow tidy. Simple now, expandable later.
          </p>

          <div class="mt-7 flex flex-wrap gap-3">
            <a href="#files" class="px-5 py-3 rounded-xl bg-white text-slate-900 font-extrabold hover:bg-slate-100">
              Upload / Manage Files
            </a>
            <a href="#jobs" class="px-5 py-3 rounded-xl bg-white/10 text-white font-extrabold border border-white/20 hover:bg-white/15">
              View Active Jobs
            </a>
            <a href="shop.html" class="px-5 py-3 rounded-xl bg-blue-500 text-white font-extrabold hover:bg-blue-600">
              Browse Models
            </a>
          </div>

          <div class="mt-8 grid sm:grid-cols-3 gap-3">
            <div class="rounded-2xl bg-white/10 border border-white/15 p-4">
              <div class="text-white/80 text-xs font-bold uppercase tracking-widest">Queue</div>
              <div class="mt-1 text-white text-2xl font-black"><span id="kpiQueue">3</span> jobs</div>
              <div class="text-white/70 text-sm mt-1">Ready / in-progress</div>
            </div>
            <div class="rounded-2xl bg-white/10 border border-white/15 p-4">
              <div class="text-white/80 text-xs font-bold uppercase tracking-widest">This Week</div>
              <div class="mt-1 text-white text-2xl font-black">£<span id="kpiRevenue">420</span></div>
              <div class="text-white/70 text-sm mt-1">Estimate (manual)</div>
            </div>
            <div class="rounded-2xl bg-white/10 border border-white/15 p-4">
              <div class="text-white/80 text-xs font-bold uppercase tracking-widest">Status</div>
              <div class="mt-1 text-white text-2xl font-black">Stable</div>
              <div class="text-white/70 text-sm mt-1">Static deploy</div>
            </div>
          </div>
        </div>

        <!-- Right Panel -->
        <div class="lg:col-span-5">
          <div class="rounded-3xl bg-white shadow-xl border border-slate-200 overflow-hidden">
            <div class="p-5 border-b border-slate-200 bg-slate-50">
              <div class="flex items-center justify-between">
                <div>
                  <div class="text-sm font-extrabold">Quick Actions</div>
                  <div class="text-xs text-slate-500">Fast buttons for common tasks</div>
                </div>
                <span class="text-xs font-bold px-2 py-1 rounded-full bg-emerald-100 text-emerald-700">Starter</span>
              </div>
            </div>

            <div class="p-5 grid gap-3">
              <button class="w-full text-left p-4 rounded-2xl border border-slate-200 hover:bg-slate-50" onclick="toast('Upload flow is a stub for now. Add storage later (Drive/S3/Uploadthing).')">
                <div class="font-extrabold">Upload New STL</div>
                <div class="text-sm text-slate-500">Add a file to your pipeline</div>
              </button>

              <button class="w-full text-left p-4 rounded-2xl border border-slate-200 hover:bg-slate-50" onclick="toast('Quote tool is a stub. Later: material + infill + hours + margin.')">
                <div class="font-extrabold">Create a Quote</div>
                <div class="text-sm text-slate-500">Estimate price from settings</div>
              </button>

              <button class="w-full text-left p-4 rounded-2xl border border-slate-200 hover:bg-slate-50" onclick="toast('Orders are static. Later: Stripe + database.')">
                <div class="font-extrabold">View Orders</div>
                <div class="text-sm text-slate-500">See requests, payments, shipping</div>
              </button>

              <a href="shop.html" class="block w-full text-left p-4 rounded-2xl bg-slate-900 text-white hover:bg-slate-800">
                <div class="font-extrabold">Browse Models</div>
                <div class="text-sm text-white/70">Your storefront (static)</div>
              </a>
            </div>
          </div>

          <div class="mt-4 text-xs text-white/70">
            Tip: This is a static “starter console.” When your pal is ready, you can wire real uploads + orders without redesigning everything.
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="max-w-7xl mx-auto px-4 py-12 space-y-10">

    <!-- Files Panel -->
    <section id="files" class="grid lg:grid-cols-12 gap-6">
      <div class="lg:col-span-7 rounded-3xl bg-white border border-slate-200 shadow-sm overflow-hidden">
        <div class="p-5 border-b border-slate-200 flex items-center justify-between">
          <div>
            <h2 class="text-lg font-black tracking-tight">File Locker</h2>
            <p class="text-sm text-slate-500">Track STLs, references, notes — manual for now.</p>
          </div>
          <button class="px-3 py-2 rounded-xl bg-blue-600 text-white font-extrabold hover:bg-blue-700" onclick="addFile()">
            + Add File
          </button>
        </div>

        <div class="p-5">
          <div class="flex flex-col sm:flex-row gap-3">
            <input id="fileName" class="w-full px-4 py-3 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-200" placeholder="e.g., dragon-mini-v2.stl" />
            <select id="fileType" class="px-4 py-3 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-200">
              <option value="STL">STL</option>
              <option value="3MF">3MF</option>
              <option value="OBJ">OBJ</option>
              <option value="PNG">PNG</option>
              <option value="NOTE">NOTE</option>
            </select>
          </div>

          <div class="mt-5 overflow-x-auto">
            <table class="w-full text-sm">
              <thead>
                <tr class="text-left text-slate-500">
                  <th class="py-2">Name</th>
                  <th class="py-2">Type</th>
                  <th class="py-2">Status</th>
                  <th class="py-2">Updated</th>
                  <th class="py-2"></th>
                </tr>
              </thead>
              <tbody id="filesTbody" class="divide-y divide-slate-100">
                <!-- populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Notes / Settings -->
      <div class="lg:col-span-5 rounded-3xl bg-white border border-slate-200 shadow-sm overflow-hidden">
        <div class="p-5 border-b border-slate-200">
          <h2 class="text-lg font-black tracking-tight">Workshop Notes</h2>
          <p class="text-sm text-slate-500">Keep targets + materials handy.</p>
        </div>

        <div class="p-5 space-y-4">
          <div class="rounded-2xl bg-slate-50 border border-slate-200 p-4">
            <div class="text-xs font-bold uppercase tracking-widest text-slate-500">Default Materials</div>
            <div class="mt-2 flex flex-wrap gap-2">
              <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-sm font-semibold">PLA</span>
              <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-sm font-semibold">PETG</span>
              <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-sm font-semibold">Resin</span>
            </div>
          </div>

          <div class="rounded-2xl bg-slate-50 border border-slate-200 p-4">
            <div class="text-xs font-bold uppercase tracking-widest text-slate-500">Standard Targets</div>
            <ul class="mt-2 text-sm text-slate-700 space-y-1">
              <li>• 0.2mm layer height (draft)</li>
              <li>• 0.12mm (detail)</li>
              <li>• 15–20% infill (general)</li>
              <li>• Support: tree when needed</li>
            </ul>
          </div>

          <div class="rounded-2xl bg-slate-900 text-white p-4">
            <div class="text-xs font-bold uppercase tracking-widest text-white/70">Next Upgrade Path</div>
            <div class="mt-2 text-sm text-white/80">
              Add real uploads + orders: Vercel API route + storage (S3/UploadThing) + Stripe.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Jobs Panel -->
    <section id="jobs" class="rounded-3xl bg-white border border-slate-200 shadow-sm overflow-hidden">
      <div class="p-5 border-b border-slate-200 flex items-center justify-between">
        <div>
          <h2 class="text-lg font-black tracking-tight">Job Queue</h2>
          <p class="text-sm text-slate-500">Track active print jobs (mock data).</p>
        </div>
        <button class="px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 font-extrabold" onclick="addJob()">
          + New Job
        </button>
      </div>

      <div class="p-5 grid md:grid-cols-3 gap-4" id="jobsGrid">
        <!-- populated by JS -->
      </div>
    </section>

    <!-- Footer -->
    <footer class="pb-10 text-sm text-slate-500 flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between">
      <div>© <span id="year"></span> Forge3D • Command Center</div>
      <div class="flex gap-3">
        <a class="hover:text-slate-900" href="shop.html">Models</a>
        <a class="hover:text-slate-900" href="#files">Files</a>
        <a class="hover:text-slate-900" href="#jobs">Jobs</a>
      </div>
    </footer>
  </main>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-4 py-3 rounded-2xl shadow-xl opacity-0 pointer-events-none transition">
    <div id="toastTxt" class="text-sm font-semibold"></div>
  </div>

  <script>
    // ---------- Simple "Command Center" data (static) ----------
    const files = [
      { name: "dragon-mini-v2.stl", type: "STL", status: "Ready", updated: "Today" },
      { name: "phone-stand.3mf", type: "3MF", status: "Queued", updated: "Yesterday" },
      { name: "gearbox-part.obj", type: "OBJ", status: "Review", updated: "2 days ago" }
    ];

    const jobs = [
      { title: "Dragon Mini (Resin)", status: "Printing", eta: "2h 15m", meta: "0.05mm • supports" },
      { title: "Phone Stand (PLA)", status: "Queued", eta: "—", meta: "0.2mm • 15% infill" },
      { title: "Gearbox Part (PETG)", status: "Post-Process", eta: "45m", meta: "anneal + clean" }
    ];

    function el(id){ return document.getElementById(id); }
    function nowLabel(){ return new Date().toLocaleDateString(undefined, { month:"short", day:"numeric" }); }

    function toast(msg){
      el("toastTxt").textContent = msg;
      const t = el("toast");
      t.style.opacity = "1";
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(()=> t.style.opacity = "0", 2200);
    }

    function badgeClass(status){
      const s = (status || "").toLowerCase();
      if (s.includes("print")) return "bg-blue-100 text-blue-700 border-blue-200";
      if (s.includes("queue")) return "bg-slate-100 text-slate-700 border-slate-200";
      if (s.includes("post")) return "bg-amber-100 text-amber-700 border-amber-200";
      if (s.includes("ready")) return "bg-emerald-100 text-emerald-700 border-emerald-200";
      if (s.includes("review")) return "bg-purple-100 text-purple-700 border-purple-200";
      return "bg-slate-100 text-slate-700 border-slate-200";
    }

    function renderFiles(){
      const tb = el("filesTbody");
      tb.innerHTML = files.map((f, idx)=>`
        <tr>
          <td class="py-3 font-semibold">${escapeHtml(f.name)}</td>
          <td class="py-3">${escapeHtml(f.type)}</td>
          <td class="py-3">
            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-bold border ${badgeClass(f.status)}">
              ${escapeHtml(f.status)}
            </span>
          </td>
          <td class="py-3 text-slate-500">${escapeHtml(f.updated)}</td>
          <td class="py-3 text-right">
            <button class="px-3 py-1.5 rounded-xl border border-slate-200 hover:bg-slate-50 text-xs font-bold"
              onclick="removeFile(${idx})">
              Remove
            </button>
          </td>
        </tr>
      `).join("");
    }

    function addFile(){
      const name = el("fileName").value.trim();
      const type = el("fileType").value;
      if(!name) return toast("Add a file name first.");
      files.unshift({ name, type, status:"Ready", updated: nowLabel() });
      el("fileName").value = "";
      renderFiles();
      toast("File added to locker.");
      el("kpiQueue").textContent = Math.max(1, parseInt(el("kpiQueue").textContent || "3", 10));
    }

    function removeFile(i){
      files.splice(i, 1);
      renderFiles();
      toast("File removed.");
    }

    function renderJobs(){
      const grid = el("jobsGrid");
      grid.innerHTML = jobs.map((j)=>`
        <div class="rounded-2xl border border-slate-200 bg-white p-5 hover:shadow-sm transition">
          <div class="flex items-start justify-between gap-3">
            <div class="font-black">${escapeHtml(j.title)}</div>
            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-bold border ${badgeClass(j.status)}">
              ${escapeHtml(j.status)}
            </span>
          </div>
          <div class="mt-2 text-sm text-slate-600">${escapeHtml(j.meta)}</div>
          <div class="mt-4 flex items-center justify-between text-sm">
            <span class="text-slate-500">ETA</span>
            <span class="font-bold">${escapeHtml(j.eta)}</span>
          </div>
          <button class="mt-4 w-full px-4 py-2 rounded-xl bg-slate-900 text-white font-extrabold hover:bg-slate-800"
            onclick="toast('Stub: wire this to real job states later.')">
            Update Status
          </button>
        </div>
      `).join("");
    }

    function addJob(){
      jobs.unshift({ title:"New Job (Draft)", status:"Queued", eta:"—", meta:"set material + settings" });
      renderJobs();
      toast("Job added to queue.");
      const q = parseInt(el("kpiQueue").textContent || "3", 10);
      el("kpiQueue").textContent = q + 1;
    }

    function escapeHtml(s){
      return String(s ?? "").replace(/[&<>"']/g, (c)=>({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"
      }[c]));
    }

    // boot
    document.getElementById("year").textContent = new Date().getFullYear();
    renderFiles();
    renderJobs();

    // Quick tools button
    document.getElementById("themeBtn").onclick = () => {
      toast("Quick Tools: add real uploads + payments when ready.");
    };
  </script>
</body>
</html>
